<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>社員情報一覧</title>
    <link rel="stylesheet" href="/css/styles_common.css">
    <link rel="stylesheet" href="/css/styles_employee_list.css">
</head>
<body>

    <!-- ✅ ヘッダー -->
    <header class="header">
        <div class="header-left">
            <img src="/img/logo.png" alt="Logo" class="logo">
        </div>
        <div class="header-center">案件管理システム</div>
        <div class="header-right" id="login-user">ログイン中: 未ログイン</div>
    </header>

    <div class="container">
        <!-- ✅ サイドバー（mainと同じ） -->
        <nav class="sidebar">
            <ul>
                <li><a href="register.html" onclick="showContent('案件新規登録')">案件新規登録</a></li>
                <li>
                    <a href="#" onclick="toggleSubMenu1()">案件情報</a>
                    <ul id="submenu1" style="display: none; margin-left: 20px;">
                        <li><a href="project_list.html">案件情報一覧</a></li>
                        <li><a href="status_pending.html">承認待ち</a></li>
                        <li><a href="status_rejected.html">差し戻し</a></li>
                        <li><a href="status_approved.html">承認済み</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#" onclick="toggleSubMenu4()">顧客情報</a>
                    <ul id="submenu4" style="display: none; margin-left: 20px;">
                        <li><a href="customer.html">新規顧客登録</a></li>
                        <li><a href="customer_list.html">顧客情報一覧</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#" onclick="toggleSubMenu2()">社員情報</a>
                    <ul id="submenu2" style="margin-left: 20px;">
                        <li><a href="employee_list.html">社員情報一覧</a></li>
                        <li><a href="employee.html">社員情報登録</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#" onclick="toggleSubMenu3()">ユーザ情報</a>
                    <ul id="submenu3" style="display: none; margin-left: 20px;">
                        <li><a href="users_list.html">ユーザ情報一覧</a></li>
                        <li><a href="users.html">ユーザ情報登録</a></li>
                    </ul>
                </li>
                <li><a href="/projects/export/csv" download>CSVエクスポート</a></li>
                <li><a href="index.html">ログアウト</a></li>
            </ul>
        </nav>

        <!-- ✅ メインコンテンツ -->
        <main class="content">
            <h1>社員情報一覧</h1>
            <table class="user-table">
                <thead>
                    <tr>
                        <th>社員名</th>
                        <th>年齢</th>
                        <th>役職</th>
                        <th>電話番号</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody id="employee-list">
                    <!-- JSで生成される -->
                </tbody>
            </table>
        </main>
    </div>

    <script src="/js/app_employee_list.js"></script>
    <script src="/js/app_common.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const role = localStorage.getItem("loginRole");
            if (role === "users") {
            // 「社員情報」と「ユーザ情報」のメニューを非表示
            const employeeMenu = document.getElementById("menu-employee");
            const userMenu = document.getElementById("menu-user");
            if (employeeMenu) employeeMenu.style.display = "none";
            if (userMenu) userMenu.style.display = "none";
        }

        // ヘッダーのユーザー名表示も
        const user = localStorage.getItem("loginUser") || "未ログイン";
        document.getElementById("login-user").textContent = `ログイン中: ${user}`;
        });
    </script>
</body>
</html>